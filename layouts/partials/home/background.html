{{ $disableImageOptimization := .Site.Params.disableImageOptimization | default false }}

{{/* Linear-Inspired Hero Section */}}
<article class="hero-linear">

  {{/* Main content container - LEFT ALIGNED */}}
  <div class="relative z-10 w-full max-w-6xl mx-auto px-6 md:px-12 py-32">

    {{/* Section Badge */}}
    <div class="animate-blur-reveal">
      <span class="section-badge section-badge--blue">AI Safety Research</span>
    </div>

    {{/* Main Headline - LEFT ALIGNED, BRIGHT WHITE */}}
    <h1 class="linear-headline animate-blur-reveal delay-100">
      {{ .Site.Params.Author.name | default .Site.Title }}
    </h1>

    {{/* Tagline with Typewriter Effect */}}
    {{ with .Site.Params.Author.headline }}
    <h2 class="linear-subheadline animate-blur-reveal delay-200 max-w-2xl">
      {{ if $.Site.Params.homepage.typewriter.enabled }}
      <span id="typewriter"></span><span class="cursor">{{ $.Site.Params.homepage.typewriter.cursor | default "|"
        }}</span>
      <script>
        const texts = {{ $.Site.Params.homepage.typewriter.texts }};
        const speed = {{ $.Site.Params.homepage.typewriter.speed | default 50 }};
        let textIndex = 0;
        let charIndex = 0;
        let isDeleting = false;
        const typeWriterElement = document.getElementById("typewriter");

        function type() {
          const currentText = texts[textIndex];
          if (isDeleting) {
            typeWriterElement.textContent = currentText.substring(0, charIndex - 1);
            charIndex--;
          } else {
            typeWriterElement.textContent = currentText.substring(0, charIndex + 1);
            charIndex++;
          }

          if (!isDeleting && charIndex === currentText.length) {
            isDeleting = true;
            setTimeout(type, 2500);
          } else if (isDeleting && charIndex === 0) {
            isDeleting = false;
            textIndex = (textIndex + 1) % texts.length;
            setTimeout(type, 400);
          } else {
            setTimeout(type, isDeleting ? speed / 2 : speed);
          }
        }

        document.addEventListener("DOMContentLoaded", function () {
          setTimeout(type, 500);
        });
      </script>
      {{ else }}
      {{ . | markdownify }}
      {{ end }}
    </h2>
    {{ end }}

    {{/* CTA Buttons - Linear Style */}}
    <div class="flex flex-wrap gap-3 animate-blur-reveal delay-300">
      {{ with .Site.Params.homepage.button }}
      {{ if .enable }}
      <a href="{{ .url }}" class="btn-linear btn-linear-primary">
        {{ .text }}
      </a>
      {{ end }}
      {{ end }}
      {{ with .Site.Params.homepage.secondaryButton }}
      {{ if .enable }}
      <a href="{{ .url }}" class="btn-linear btn-linear-secondary">
        {{ .text }}
      </a>
      {{ end }}
      {{ end }}
    </div>

    {{/* Social Links */}}
    {{ with .Site.Params.Author.links }}
    <div class="mt-8 flex flex-wrap gap-4 animate-blur-reveal delay-400">
      {{ range $links := . }}
      {{ range $name, $url := $links }}
      <a class="text-[#9CA3AF] hover:text-white transition-colors duration-200" href="{{ $url }}" target="_blank"
        aria-label="{{ $name | title }}" title="{{ $name | title }}" rel="me noopener noreferrer">
        {{ partial "icon.html" $name }}
      </a>
      {{ end }}
      {{ end }}
    </div>
    {{ end }}

  </div>

</article>

{{/* Feature Cards Section - Bento Style */}}
<section class="content-section py-20">
  <div class="max-w-6xl mx-auto px-6 md:px-12">

    {{/* Section Header */}}
    <div class="mb-12">
      <span class="section-badge section-badge--green">Our Focus</span>
      <h2 class="section-heading">Research areas we explore</h2>
      <p class="section-description">
        Advancing AI safety through rigorous research, education, and community building.
      </p>
    </div>

    {{/* Feature Grid */}}
    <div class="feature-grid">

      <div class="feature-card">
        <h3 class="feature-card-title">Mechanistic Interpretability</h3>
        <p class="feature-card-description">
          Understanding the internal mechanisms of neural networks to make AI systems more transparent and predictable.
        </p>
      </div>

      <div class="feature-card">
        <h3 class="feature-card-title">Alignment Research</h3>
        <p class="feature-card-description">
          Developing techniques to ensure AI systems reliably pursue intended goals without harmful side effects.
        </p>
      </div>

      <div class="feature-card">
        <h3 class="feature-card-title">Education & Workshops</h3>
        <p class="feature-card-description">
          Hosting reading groups, workshops, and summer programs to grow the AI safety research community in Taiwan.
        </p>
      </div>

    </div>

  </div>
</section>

{{/* Upcoming Programs Section - 2026 Highlight */}}
<section class="content-section py-20 bg-neutral-900/30">
  <div class="max-w-6xl mx-auto px-6 md:px-12">

    {{/* Section Header */}}
    <div class="mb-12">
      <span class="section-badge section-badge--blue">Join Us</span>
      <h2 class="section-heading">Upcoming 2026 Programs</h2>
      <p class="section-description">
        Applications opening soon for our Spring 2026 tracks.
      </p>
    </div>

    {{/* Programs Grid */}}
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

      {{/* BlueDot Fellowship Card */}}
      <div class="feature-card flex flex-col h-full group">
        <div class="flex justify-between items-start mb-2">
          <h3 class="feature-card-title">BlueDot Fellowship</h3>
          <span
            class="shrink-0 ml-2 px-2 py-1 text-xs font-medium bg-green-500/20 text-green-300 rounded-full border border-green-500/30">Beginner</span>
        </div>
        <p class="feature-card-description flex-grow">
          A 10-week introductory program for newcomers. Learn to read and understand technical AI safety papers through
          BlueDot Impact course materials.
        </p>
        <div class="mt-6 pt-4 border-t border-neutral-800">
          <a href="/events/bluedot-fellowship-2026/"
            class="text-sm font-medium text-blue-400 hover:text-blue-300 transition-colors flex items-center gap-1 group-hover:gap-2">
            Learn more <span>→</span>
          </a>
        </div>
      </div>

      {{/* Technical Reading Card */}}
      <div class="feature-card flex flex-col h-full group">
        <div class="flex justify-between items-start mb-2">
          <h3 class="feature-card-title">Technical Reading</h3>
          <span
            class="shrink-0 ml-2 px-2 py-1 text-xs font-medium bg-purple-500/20 text-purple-300 rounded-full border border-purple-500/30">Advanced</span>
        </div>
        <p class="feature-card-description flex-grow">
          15-week deep dive into cutting-edge papers on Mechanistic Interpretability, Alignment, and Scalable Oversight.
        </p>
        <div class="mt-6 pt-4 border-t border-neutral-800">
          <a href="/events/technical-paper-reading-2026/"
            class="text-sm font-medium text-blue-400 hover:text-blue-300 transition-colors flex items-center gap-1 group-hover:gap-2">
            Learn more <span>→</span>
          </a>
        </div>
      </div>

    </div>

  </div>
</section>

{{/* Sponsors & Collaborators Section */}}
<section class="content-section py-16">
  <div class="max-w-6xl mx-auto px-6 md:px-12">

    {{/* Collaborators */}}
    <div class="mb-16">
      <p class="logo-wall-label">Collaborated with</p>
      <div class="logo-wall">
        <div class="logo-item">
          <img class="logo-img" src="https://img.logo.dev/google.com?token=pk_VJCamVTWQY68zvIPL2HFdA&size=64"
            alt="Google" />
        </div>
        <div class="logo-item">
          <img class="logo-img" src="https://img.logo.dev/meta.com?token=pk_VJCamVTWQY68zvIPL2HFdA&size=64"
            alt="Meta" />
        </div>
        <div class="logo-item">
          <img class="logo-img" src="https://img.logo.dev/openai.com?token=pk_VJCamVTWQY68zvIPL2HFdA&size=64"
            alt="OpenAI" />
        </div>
        <div class="logo-item">
          <img class="logo-img" src="https://img.logo.dev/anthropic.com?token=pk_VJCamVTWQY68zvIPL2HFdA&size=64"
            alt="Anthropic" />
        </div>
        <div class="logo-item">
          <img class="logo-img" src="https://img.logo.dev/ntu.edu.tw?token=pk_VJCamVTWQY68zvIPL2HFdA&size=64"
            alt="National Taiwan University" />
        </div>
      </div>
    </div>

    {{/* Sponsors */}}
    <div>
      <p class="logo-wall-label">Sponsored by</p>
      <div class="logo-wall">
        <div class="logo-item" style="display:flex; justify-content:center; align-items:center;">
          <img class="logo-img" src="/img/members/AICoE_logo.png" alt="Taiwan AI Center of Excellence"
            style="max-height: 48px; width: auto;" />
        </div>
        <div class="logo-item" style="display:flex; justify-content:center; align-items:center;">
          <img class="logo-img" src="/img/members/pathfinder_logo.webp" alt="Pathfinder"
            style="max-height: 48px; width: auto;" />
        </div>
      </div>
    </div>

  </div>
</section>

{{/* Content from _index.md */}}
{{ if .Content }}
<section class="content-section py-16">
  <div class="max-w-4xl mx-auto px-6">
    <div class="prose prose-invert prose-lg mx-auto">
      {{ .Content }}
    </div>
  </div>
</section>
{{ end }}

{{/* Recent articles */}}
<section class="content-section pb-20">
  {{ partial "recent-articles/main.html" . }}
</section>